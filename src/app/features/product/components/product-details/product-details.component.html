
@if(productDetails){
<section class="w-14/15 mx-auto pb-10">
    <h1
        class="lg:w-1/2 text-center font-bold mt-10 mb-5">{{productDetails.description}}</h1>
    <div class="grid md:grid-cols-2 gap-6">
        <div class="flex items-center flex-wrap ">

            <div class="flex justify-center items-center m-auto">
                <i (click)="previous()"
                    class="fa-solid fa-chevron-left cursor-pointer text-3xl bg-gray-200 p-3 sm:p-5 rounded-s-2xl"></i>
                <img class="w-9/11 sm:w-5/9"
                    [src]="productDetails.images[imageIndexSlider]"
                    alt>
                <i (click)="next()"
                    class="fa-solid fa-chevron-right cursor-pointer text-3xl bg-gray-200 p-3 sm:p-5 rounded-e-2xl"></i>
            </div>
            <div class="flex justify-center flex-wrap my-5 w-full mx-auto">

                @for(image of productDetails.images; track $index){
                <img [src]="image" (click)="getIndexOfImageSlider($index)"
                    class="h-23 m-3 rounded-xl cursor-pointer" alt>
                }

            </div>

        </div>
        <div class="font-sans py-15 pt-20 text-center md:text-start">
            <h2
                class=" font-bold text-3xl text-gray-500">{{productDetails.brand.name}}</h2>
            <h3
                class="my-5 font-bold text-xl text-mainColor">{{productDetails.category.name}}</h3>
            <h4 class="my-7">{{productDetails.title}}</h4>
            <h5 class="text-2xl font-bold">{{productDetails.price}} EGY</h5>
            <div class="flex my-5">
                <p class=" w-1/2">Stock:
                    <span
                        class="text-green-500">{{productDetails.quantity}}</span>
                    Pieces</p>
                <p class=" w-1/2">Sold:
                    <span class="text-red-600">{{productDetails.sold}}</span>
                    Pieces</p>
            </div>
            <h6> Rate:
                {{ productDetails.ratingsAverage}} <i
                    class="fa-solid fa-star text-rating"></i></h6>
            <div class="flex mt-10 justify-center md:justify-start">
                <button (click)="addToCart(productDetails._id)"
                    class="cursor-pointer text-mainColor border-2 py-2 px-3 rounded-3xl bg-white text-sm font-bold hover:bg-mainColor hover:border-mainColor  hover:text-white transition-all duration-300 me-10 w-1/3 opacity-100">
                    <i class="fa-solid fa-cart-shopping"></i> Cart
                </button>
                <button (click)="toggleFromWishList(productDetails._id)"
                    class="text-2xl bg-lightColor h-13 rounded-full  group-hover:opacity-100 transition-all duration-300 hover:text-mainColor cursor-pointer w-1/3">
                    @if (isProductAddedtoWishList(productDetails._id)){
                    <i class="fa-solid fa-heart text-mainColor"></i>
                    }
                    @else {
                    <i class="fa-regular fa-heart"></i>
                    }
                </button>
            </div>
        </div>
    </div>
</section>
} @else {
<h1>Loading</h1>
}
